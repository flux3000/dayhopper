<!DOCTYPE html>
<html>
<head>
    <title>IO Lab - Memex</title>
    
    <!-- link to css file -->
    <link rel="stylesheet" type="text/css" href="_css/style.css" />
    <style>
        #sortable1, #sortable2 { list-style-type: none; margin: 0; padding: 0 0 2.5em; float: left; margin-right: 10px; width: 320px;}
        #sortable1 li, #sortable2 li { margin: 0 5px 5px 5px; padding: 5px; font-size: 1.2em;}
    </style>

    <link href='http://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
    <!-- link to javascript files -->
    <script src="_js/jquery-1.10.2.min.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <script src="_js/script.js"></script>    
    <script type="text/javascript">
        $(document).ready(function() {
            //$.getJSON("https://dantsai:npoc3opDL@api.delicious.com/v1/tags/rename?callback=?old=mytrail&new=hahaha",
            $.getJSON("http://feeds.delicious.com/v2/json/dantsai?count=100&callback=?", function(data) {
                $.each(data, function(i, item){
                    var title = item.d;
                    var url = item.u;
                    var date = item.dt;
                    $("#sortable2").append('<li><a href="'+url+'">'+title+'</a> <time>'+niceTime(date)+'<time></li>');
                });

                $(".ajax-loader").css("display","none");
            });

            $( "#sortable1, #sortable2" ).sortable({
                connectWith: ".connectedSort"
            }).disableSelection();
        });

            var niceTime = (function(){
            var ints = {
            second: 1,
            minute: 60,
            hour: 3600,
            day: 86400,
            week: 604800,
            month: 2592000,
            year: 31536000
            };
            return function(time){
            time = +new Date(time);
            var gap = ((+new Date()) - time) / 1000,
            amount, measure;
            for (var i in ints){
            if (gap > ints[i]){ measure = i; }
            }
            amount = gap / ints[measure];
            amount = gap > ints.day ? (Math.round(amount)) : Math.round(amount);
            amount += ' ' + measure + (amount > 1 ? 's' : '') + ' ago';
            return amount;
            };
        })();

    </script>
</head>
<body>
    
    <div id="container">

        <div id="title">
            This is a Memex.
        </div>

        <div id="content">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </div>

        <ul id="sortable1" class="connectedSort">
        </ul>
        <ul id="sortable2" class="connectedSort">
            
        </ul>

        <div class="ajax-loader">fetching bookmarks...</div>


    </div>

</body>
</html>